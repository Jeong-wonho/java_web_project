<head>
  <link href="../css/slur_qa_write.css" rel="stylesheet" />
</head>
<h2>Q&A</h2>
<div class="question_page">
  <form
    class="col-md-12 was-validated"
    method="post"
    enctype="multipart/form-data"
    autocomplete="off"
  >
    <div class="mb-3 question_input">
      <input
        type="text"
        class="form-control is-invalid col-md-12 mt-3"
        name="question_title"
        placeholder="제목을 입력하세요"
        required
      />
      <label for="validationTextarea">질문입력</label>
      <textarea
        class="form-control is-invalid question_input_text"
        id="question_input"
        placeholder="커리큘럼 입력해주세요"
        required
        name="question_input"
      ></textarea>
    </div>
    <button
      class="btn btn-lg btn-primary btn-block qa_button"
      type="button"
      style="float: right"
    >
      수정
    </button>
  </form>
</div>
<script type="text/javascript" src="../js/slur_qa_modify.js"></script>
<!-- <script>
  //데이터불러오기 get
  console.log(qa_num);
  $(document).ready(function () {
    var title = $("input[name='question_title']");
    var question_input = $("#question_input");
    $.ajax({
      method: "GET",
      transformRequest: [null],
      transformResponse: [null],
      jsonpCallbackParam: "callback",
      url: "http://localhost:9999/slur/qa/content/" + qa_num,
      headers: {
        Accept: "application/json, text/plain, */*",
      },
      success: function (response) {
        var qa = response.list;
        title.val(qa.qa_title);
        question_input.val(qa.qa_content);
      },
    });
  });
  //데이터 전송 구현
  $("button.qa_button").click(function (e) {
    var qa_content = $("#question_input").val();
    var qa_title = $("input[name='question_title']").val();

    data = {};
    data.qa_content = qa_content;
    data.qa_title = qa_title;

    var dataJson = JSON.stringify(data);
    alert(dataJson);
    $.ajax({
      method: "PUT",
      transformRequest: [null],
      transformResponse: [null],
      jsonpCallbackParam: "callback",
      url: "http://localhost:9999/slur/qa/" + qa_num,
      headers: {
        Accept: "application/json, text/plain, */*",
        "Content-Type": "application/json;charset=utf-8",
      },
      data: dataJson,
      success: function (responseObj) {
        if (responseObj.status == 1) {
          alert("질문 등록 성공입니다.");
          location.href = "./slur_main.html";
        } else {
          alert("질문 실패 입니다.");
        }
      },
    });
  });
</script> -->
